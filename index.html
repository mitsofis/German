<!-- Main Document Section Start -->
<!DOCTYPE html>
<html lang="en">
<!-- Head Section Start -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colloquial German for Beginners - Unit 2</title>
    <!-- Tailwind CSS Subsection Start -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind CSS Subsection End -->
    <!-- Critical CSS Subsection Start -->
    <style>
        /* Global Styles Section Start */
        /* Custom Colors Subsection Start */
        :root {
            --light-blue: #d6e4ff;
            --dark-blue: #0052cc;
            --bootstrap-blue: #0d6efd;
            --gray-inactive: #f1f1f1;
        }
        /* Custom Colors Subsection End */
        /* Global Styles Section End */
    </style>
    <!-- Critical CSS Subsection End -->
    <!-- Module Preload Subsection Start -->
    <link rel="modulepreload" href="js/tabNavigation.js" />
    <link rel="modulepreload" href="js/audioPlayback.js" />
    <link rel="modulepreload" href="js/feedbackDisplay.js" />
    <link rel="modulepreload" href="js/progressTracking.js" />
    <link rel="modulepreload" href="js/vocabularyQuiz.js" />
    <link rel="modulepreload" href="js/flashcards.js" />
    <link rel="modulepreload" href="js/grammarPractice.js" />
    <link rel="modulepreload" href="js/exercise1.js" />
    <link rel="modulepreload" href="js/exercise2.js" />
    <!-- Module Preload Subsection End -->
</head>
<!-- Head Section End -->

<!-- Body Section Start -->
<body class="font-sans max-w-4xl mx-auto p-5 leading-6 text-base">
    <!-- Header Placeholder Subsection Start -->
    <div id="header"></div>
    <!-- Header Placeholder Subsection End -->

    <!-- Main Layout Subsection Start -->
    <div class="flex flex-col md:flex-row gap-6">
        <!-- Navigation Placeholder Subsection Start -->
        <div id="navigation" class="w-full md:w-1/4 flex flex-col gap-2"></div>
        <!-- Navigation Placeholder Subsection End -->
        <!-- Content Area Subsection Start -->
        <div class="w-full md:w-3/4">
            <div id="conversations" class="tab-content"></div>
            <div id="grammar" class="tab-content hidden"></div>
            <div id="exercises" class="tab-content hidden"></div>
            <div id="practice" class="tab-content hidden"></div>
        </div>
        <!-- Content Area Subsection End -->
    </div>
    <!-- Main Layout Subsection End -->

    <!-- Global Feedback Subsection Start -->
    <div id="global-feedback" class="feedback hidden"></div>
    <!-- Global Feedback Subsection End -->

    <!-- Progress Overview Placeholder Subsection Start -->
    <div id="progress-section"></div>
    <!-- Progress Overview Placeholder Subsection End -->
<script type="module" defer>
  console.log('✅ main.js loaded and working');
  window.openTab = () => console.log('✅ openTab stub');
</script>
    <!-- JavaScript Include Subsection Start -->
    <script type="module" src="https://mitsofis.github.io/German/js/main.js" defer></script>
    <!-- Debugging Script Subsection Start -->
    <script>

        
        // Refined debugging script to diagnose blank page
        (function () {
            console.log('Debug: Debugging script initialized at', new Date().toLocaleString());

            // Check main.js script tag
            const mainScript = document.querySelector('script[src="js/main.js"]');
            if (!mainScript) {
                console.error('Debug: main.js script tag not found in DOM');
                document.getElementById('global-feedback').innerHTML = 
                    '<p class="text-red-500">Error: main.js script not found. Check script tag in index.html.</p>';
                document.getElementById('global-feedback').classList.remove('hidden');
                return;
            }

            // Monitor main.js loading
            mainScript.addEventListener('load', () => {
                console.log('Debug: main.js successfully loaded');
            });
            mainScript.addEventListener('error', () => {
                console.error('Debug: Failed to load js/main.js. Verify that js/main.js exists in German/js/.');
                document.getElementById('global-feedback').innerHTML = 
                    '<p class="text-red-500">Error: Failed to load js/main.js. Ensure js/main.js exists in German/js/.</p>';
                document.getElementById('global-feedback').classList.remove('hidden');
            });

            // Check module preloads
            const modules = [
                'tabNavigation.js', 'audioPlayback.js', 'feedbackDisplay.js', 
                'progressTracking.js', 'vocabularyQuiz.js', 'flashcards.js', 
                'grammarPractice.js', 'exercise1.js', 'exercise2.js'
            ];
            modules.forEach(module => {
                const script = document.querySelector(`link[href="js/${module}"]`);
                if (!script) {
                    console.warn(`Debug: Module preload for js/${module} not found in DOM`);
                    document.getElementById('global-feedback').innerHTML += 
                        `<p class="text-yellow-500">Warning: Module preload for js/${module} not found.</p>`;
                    document.getElementById('global-feedback').classList.remove('hidden');
                }
            });

            // Monitor DOMContentLoaded and check partials/CSS
            document.addEventListener('DOMContentLoaded', () => {
                console.log('Debug: DOMContentLoaded event fired');

                // Check placeholders
                const placeholders = ['header', 'navigation', 'conversations', 'grammar', 'exercises', 'practice', 'progress-section'];
                placeholders.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        console.log(`Debug: Placeholder #${id} found in DOM`);
                        setTimeout(() => {
                            const content = element.innerHTML.trim();
                            if (content === '') {
                                console.warn(`Debug: Placeholder #${id} is empty. Check html/${id === 'progress-section' ? 'progress' : id}.html for content or fetch errors.`);
                                document.getElementById('global-feedback').innerHTML += 
                                    `<p class="text-yellow-500">Warning: No content in ${id}. Ensure html/${id === 'progress-section' ? 'progress' : id}.html exists and is not empty.</p>`;
                                document.getElementById('global-feedback').classList.remove('hidden');
                            } else {
                                console.log(`Debug: Placeholder #${id} has content (length: ${content.length} characters)`);
                                const computedStyle = window.getComputedStyle(element);
                                if (computedStyle.display === 'none' || computedStyle.visibility === 'hidden') {
                                    console.warn(`Debug: Placeholder #${id} is hidden (display: ${computedStyle.display}, visibility: ${computedStyle.visibility})`);
                                    document.getElementById('global-feedback').innerHTML += 
                                        `<p class="text-yellow-500">Warning: Content in ${id} is hidden by CSS. Check Tailwind classes or css/styles.css.</p>`;
                                    document.getElementById('global-feedback').classList.remove('hidden');
                                }
                            }
                        }, 3000);
                    } else {
                        console.error(`Debug: Placeholder #${id} not found in DOM`);
                        document.getElementById('global-feedback').innerHTML += 
                            `<p class="text-red-500">Error: Placeholder ${id} not found in index.html.</p>`;
                        document.getElementById('global-feedback').classList.remove('hidden');
                    }
                });

                // Check Tailwind CSS
                const testElement = document.createElement('div');
                testElement.className = 'text-red-500';
                document.body.appendChild(testElement);
                const style = window.getComputedStyle(testElement).color;
                if (style !== 'rgb(239, 68, 68)') {
                    console.warn('Debug: Tailwind CSS may not be loaded correctly');
                    document.getElementById('global-feedback').innerHTML += 
                        '<p class="text-red-500">Warning: Tailwind CSS may not be loaded. Check CDN or network.</p>';
                    document.getElementById('global-feedback').classList.remove('hidden');
                }
                document.body.removeChild(testElement);
            });

            // Check main.js execution
            setTimeout(() => {
                if (typeof window.openTab !== 'function') {
                    console.error('Debug: main.js may not have executed correctly (window.openTab not defined)');
                    document.getElementById('global-feedback').innerHTML += 
                        '<p class="text-red-500">Error: main.js initialization failed. Check js/main.js for errors.</p>';
                    document.getElementById('global-feedback').classList.remove('hidden');
                } else {
                    console.log('Debug: main.js initialized (window.openTab defined)');
                }
            }, 3000);

            // Check global-feedback div
            const feedbackDiv = document.getElementById('global-feedback');
            if (feedbackDiv) {
                console.log('Debug: global-feedback div found');
            } else {
                console.error('Debug: global-feedback div not found');
            }
        })();
    </script>
    <!-- Debugging Script Subsection End -->
    <!-- JavaScript Include Subsection End -->
</body>
<!-- Body Section End -->
</html>
<!-- Main Document Section End -->
