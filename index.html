<!-- Main Document Section Start -->
<!DOCTYPE html>
<html lang="en">
<!-- Head Section Start -->
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colloquial German for Beginners - Unit 2</title>
    <!-- Tailwind CSS Subsection Start -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind CSS Subsection End -->
    <!-- Critical CSS Subsection Start -->
    <style>
        /* Global Styles Section Start */
        /* Custom Colors Subsection Start */
        :root {
            --light-blue: #d6e4ff;
            --dark-blue: #0052cc;
            --bootstrap-blue: #0d6efd;
            --gray-inactive: #f1f1f1;
        }
        /* Custom Colors Subsection End */
        /* Global Styles Section End */
    </style>
    <!-- Critical CSS Subsection End -->
    <!-- Module Preload Subsection Start -->
    <link rel="modulepreload" href="js/tabNavigation.js" />
    <link rel="modulepreload" href="js/audioPlayback.js" />
    <link rel="modulepreload" href="js/feedbackDisplay.js" />
    <link rel="modulepreload" href="js/progressTracking.js" />
    <link rel="modulepreload" href="js/vocabularyQuiz.js" />
    <link rel="modulepreload" href="js/flashcards.js" />
    <link rel="modulepreload" href="js/grammarPractice.js" />
    <link rel="modulepreload" href="js/exercise1.js" />
    <link rel="modulepreload" href="js/exercise2.js" />
    <!-- Module Preload Subsection End -->
</head>
<!-- Head Section End -->

<!-- Body Section Start -->
<body class="font-sans max-w-4xl mx-auto p-5 leading-6 text-base">
    <!-- Header Placeholder Subsection Start -->
    <div id="header"></div>
    <!-- Header Placeholder Subsection End -->

    <!-- Main Layout Subsection Start -->
    <div class="flex flex-col md:flex-row gap-6">
        <!-- Navigation Placeholder Subsection Start -->
        <div id="navigation" class="w-full md:w-1/4 flex flex-col gap-2"></div>
        <!-- Navigation Placeholder Subsection End -->
        <!-- Content Area Subsection Start -->
        <div class="w-full md:w-3/4">
            <div id="conversations" class="tab-content"></div>
            <div id="grammar" class="tab-content hidden"></div>
            <div id="exercises" class="tab-content hidden"></div>
            <div id="practice" class="tab-content hidden"></div>
        </div>
        <!-- Content Area Subsection End -->
    </div>
    <!-- Main Layout Subsection End -->

    <!-- Global Feedback Subsection Start -->
    <div id="global-feedback" class="feedback hidden"></div>
    <!-- Global Feedback Subsection End -->

    <!-- Progress Overview Placeholder Subsection Start -->
    <div id="progress-section"></div>
    <!-- Progress Overview Placeholder Subsection End -->

    <!-- JavaScript Include Subsection Start -->
    <script type="module" src="js/main.js"></script>
    <!-- Debugging Script Subsection Start -->
    <script>
        // Debugging script to diagnose blank page
        (function () {
            // Log when debugging script runs
            console.log('Debug: Debugging script initialized at', new Date().toLocaleString());

            // Check if main.js is loaded
            const mainScript = document.querySelector('script[src="js/main.js"]');
            if (!mainScript) {
                console.error('Debug: main.js script tag not found in DOM');
                document.getElementById('global-feedback').innerHTML = 
                    '<p class="text-red-500">Error: main.js script not found. Check script tag.</p>';
                document.getElementById('global-feedback').classList.remove('hidden');
                return;
            }

            // Log when main.js is loaded or fails
            mainScript.addEventListener('load', () => {
                console.log('Debug: main.js successfully loaded');
            });
            mainScript.addEventListener('error', () => {
                console.error('Debug: Failed to load main.js. Check file path or network.');
                document.getElementById('global-feedback').innerHTML = 
                    '<p class="text-red-500">Error: Failed to load main.js. Check file path or network.</p>';
                document.getElementById('global-feedback').classList.remove('hidden');
            });

            // Monitor DOMContentLoaded event
            document.addEventListener('DOMContentLoaded', () => {
                console.log('Debug: DOMContentLoaded event fired');

                // Check if placeholders are present
                const placeholders = ['header', 'navigation', 'conversations', 'grammar', 'exercises', 'practice', 'progress-section'];
                placeholders.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        console.log(`Debug: Placeholder #${id} found in DOM`);
                        // Check if placeholder is empty after a short delay (allowing main.js to load content)
                        setTimeout(() => {
                            if (element.innerHTML.trim() === '') {
                                console.warn(`Debug: Placeholder #${id} is empty after load attempt`);
                                document.getElementById('global-feedback').innerHTML += 
                                    `<p class="text-yellow-500">Warning: Content for ${id} failed to load.</p>`;
                                document.getElementById('global-feedback').classList.remove('hidden');
                            } else {
                                console.log(`Debug: Placeholder #${id} has content`);
                            }
                        }, 2000); // Delay to allow main.js to load partials
                    } else {
                        console.error(`Debug: Placeholder #${id} not found in DOM`);
                        document.getElementById('global-feedback').innerHTML += 
                            `<p class="text-red-500">Error: Placeholder ${id} not found.</p>`;
                        document.getElementById('global-feedback').classList.remove('hidden');
                    }
                });
            });

            // Catch unhandled errors
            window.addEventListener('error', (event) => {
                console.error('Debug: Unhandled error:', event.message, event.filename, event.lineno);
                document.getElementById('global-feedback').innerHTML += 
                    `<p class="text-red-500">Error: ${event.message} in ${event.filename}:${event.lineno}</p>`;
                document.getElementById('global-feedback').classList.remove('hidden');
            });

            // Log if global-feedback div is available
            const feedbackDiv = document.getElementById('global-feedback');
            if (feedbackDiv) {
                console.log('Debug: global-feedback div found');
            } else {
                console.error('Debug: global-feedback div not found');
            }
        })();
    </script>
    <!-- Debugging Script Subsection End -->
    <!-- JavaScript Include Subsection End -->
</body>
<!-- Body Section End -->
</html>
<!-- Main Document Section End -->
